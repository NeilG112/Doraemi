:root{
    /* Refined color palette with variables for theme switching */
    --bg-100: #071428; /* darkest background */
    --bg-80: #0a2030;
    --card: #0f2330; /* card surface */
    --muted: #cbd5e1; /* slightly brighter muted for better readability */
    --text: #e6eef6; /* primary text color (dark theme) */
    --accent: #3b82f6; /* primary blue accent */
    --accent-2: #06b6d4; /* secondary cyan */
    --glass: rgba(255,255,255,0.03);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    background: linear-gradient(180deg,var(--bg-100),var(--bg-80));
    color:var(--text);
    font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

.navbar{
    background: rgba(255,255,255,0.02);
    border-bottom: 1px solid rgba(255,255,255,0.03);
    box-shadow: 0 6px 18px rgba(2,6,23,0.55);
}
.app-navbar{background:rgba(6,12,20,0.7);backdrop-filter:blur(6px);}
.app-navbar .navbar-brand{color:var(--text)}
.app-navbar .nav-link{color:rgba(230,238,246,0.9)}
.app-navbar .nav-link.active{color:var(--accent)}
.navbar .navbar-brand{font-weight:700;color:var(--text)}
.navbar .nav-link{color:var(--muted)}
.navbar .nav-link.active{color:var(--accent)}

.main-content{padding:2.5rem}

.p-5.bg-light.border.rounded-3{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.03);
    padding: 1.6rem !important;
    border-radius: .75rem;
    color:var(--text);
}

h1,h2{color:var(--text)}

.chart-container{position:relative}
.chart-container canvas{width:100% !important;height:100% !important;display:block}

/* Chart area background so chart canvas contrasts with page BG */
.chart-area{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:0.6rem;border-radius:.6rem;border:1px solid rgba(255,255,255,0.02)}


.balance{font-size:2.25rem;color:var(--accent);font-weight:700}
.wallet-address{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace;font-size:.95rem;color:var(--muted);word-break:break-all}

.btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#fff}
.btn-primary:hover{opacity:0.95}
.btn-outline-primary{color:var(--accent);border-color:rgba(79,156,251,0.12);background:transparent}

.card{background:var(--card);border:1px solid rgba(255,255,255,0.03);border-radius:.75rem;color:var(--text)}

/* Wallet popup preserving existing classnames and functionality */
.wallet-popup-container{
    position:fixed;top:75px;right:20px;width:380px;background:var(--card);border:1px solid rgba(255,255,255,0.04);border-radius:.6rem;box-shadow:0 10px 40px rgba(2,6,23,0.6);z-index:1050;display:none;flex-direction:column;overflow:hidden;color:var(--text)
}
.wallet-popup-container.show{display:flex}
.wallet-popup-header{display:flex;justify-content:space-between;align-items:center;padding:.8rem 1rem;border-bottom:1px solid rgba(255,255,255,0.03)}
.wallet-popup-body{padding:1rem;overflow:auto;color:var(--text)}
.wallet-popup-footer{padding:.7rem 1rem;font-size:.85rem;text-align:center;color:var(--muted);border-top:1px solid rgba(255,255,255,0.02)}

/* Ensure labels inside wallet popup are readable regardless of Bootstrap's .text-muted */
.wallet-popup-container .text-muted{
    color: var(--muted) !important;
}
.wallet-popup-container h5.card-title{ /* 'Current Balance' */
    color: var(--muted) !important;
    margin-bottom: .5rem;
}
.wallet-popup-container .balance{ /* ensure balance is prominent */
    color: var(--accent) !important;
}
.wallet-popup-container .wallet-address{ /* address should be visible */
    color: var(--text) !important;
}

.copy-btn{cursor:pointer}

/* Responsive tweaks */
@media (max-width: 768px){
    .wallet-popup-container{right:12px;width:320px}
    .main-content{padding:1rem}
}

/* subtle fade for chart tooltip backdrop */
.chartjs-tooltip{background:rgba(3,7,18,0.8);color:#fff}

/* small form tweaks */
.form-control{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit}
.form-control:focus{box-shadow:none;border-color:rgba(255,255,255,0.12)}

/* ensure footer script area remains visible */
footer{margin-top:2rem}

/* Light theme overrides */
.light-theme body{background:linear-gradient(180deg,#f8fafc,#f1f5f9);color:#0b1620}
.light-theme .navbar{background:#fbfdff;border-bottom:1px solid rgba(11,17,32,0.04);box-shadow:0 2px 10px rgba(2,6,23,0.04)}
.light-theme .navbar .nav-link{color:rgba(11,17,32,0.7)}
.light-theme .navbar .nav-link.active{color:var(--accent)}
.light-theme .p-5.bg-light.border.rounded-3{background:#fff;border:1px solid rgba(11,17,32,0.04);color:inherit}
.light-theme .card{background:#fff;color:#0b1620}
.light-theme .btn-outline-primary{color:#0b1620;border-color:rgba(11,17,32,0.06)}
.light-theme .wallet-popup-container{background:#fff;border:1px solid rgba(11,17,32,0.04);box-shadow:0 6px 20px rgba(2,6,23,0.06)}
.light-theme .form-control{background:#fff;color:inherit;border:1px solid rgba(11,17,32,0.06)}

/* light-theme variable overrides */
.light-theme{
    --text: #0b1620;
    --muted: #475569;
}

.light-theme .chart-area{background:#fff;border:1px solid rgba(11,17,32,0.04);}
.light-theme .wallet-popup-container{background:#fff;color:var(--text)}